2026-02-23 22:47:45 INFO Bot: Starting bot...
2026-02-23 22:47:45 INFO apscheduler.scheduler: Adding job tentatively -- it will be properly scheduled when the scheduler starts
2026-02-23 22:47:45 INFO apscheduler.scheduler: Adding job tentatively -- it will be properly scheduled when the scheduler starts
2026-02-23 22:47:45 INFO Bot: Resumed signal_scanner + position_monitor for chat_id 8194067908
2026-02-23 22:47:45 INFO apscheduler.scheduler: Added job "signal_scanner" to job store "default"
2026-02-23 22:47:45 INFO apscheduler.scheduler: Added job "position_monitor" to job store "default"
2026-02-23 22:47:45 INFO apscheduler.scheduler: Scheduler started
2026-02-23 22:47:45 INFO telegram.ext.Application: Application started
2026-02-23 22:48:15 INFO apscheduler.executors.default: Running job "position_monitor (trigger: interval[0:01:00], next run at: 2026-02-23 20:49:15 UTC)" (scheduled at 2026-02-23 20:48:15.379429+00:00)
2026-02-23 22:48:15 INFO apscheduler.executors.default: Job "position_monitor (trigger: interval[0:01:00], next run at: 2026-02-23 20:49:15 UTC)" executed successfully
2026-02-23 22:48:45 INFO apscheduler.executors.default: Running job "signal_scanner (trigger: interval[0:01:00], next run at: 2026-02-23 20:49:45 UTC)" (scheduled at 2026-02-23 20:48:45.378748+00:00)
2026-02-23 22:48:45 ERROR telegram.ext.Application: No error handlers are registered, logging exception.
Traceback (most recent call last):
  File "/home/friday/Projects/borsihai_crypto_trader/venv/lib/python3.12/site-packages/telegram/ext/_jobqueue.py", line 1010, in _run
    await self.callback(context)
  File "/home/friday/Projects/borsihai_crypto_trader/execution/bot.py", line 349, in signal_scanner
    chat_id = context.job.data["chat_id"]
              ~~~~~~~~~~~~~~~~^^^^^^^^^^^
TypeError: 'NoneType' object is not subscriptable
2026-02-23 22:48:45 INFO apscheduler.executors.default: Job "signal_scanner (trigger: interval[0:01:00], next run at: 2026-02-23 20:49:45 UTC)" executed successfully
2026-02-23 22:49:09 INFO telegram.ext.Application: Application is stopping. This might take a moment.
2026-02-23 22:49:09 INFO apscheduler.scheduler: Scheduler has been shut down
2026-02-23 22:49:09 INFO telegram.ext.Application: Application.stop() complete
2026-02-23 22:49:12 INFO Bot: Starting bot...
2026-02-23 22:49:12 INFO apscheduler.scheduler: Adding job tentatively -- it will be properly scheduled when the scheduler starts
2026-02-23 22:49:12 INFO apscheduler.scheduler: Adding job tentatively -- it will be properly scheduled when the scheduler starts
2026-02-23 22:49:12 INFO Bot: Resumed signal_scanner + position_monitor for chat_id 8194067908
2026-02-23 22:49:12 INFO apscheduler.scheduler: Added job "signal_scanner" to job store "default"
2026-02-23 22:49:12 INFO apscheduler.scheduler: Added job "position_monitor" to job store "default"
2026-02-23 22:49:12 INFO apscheduler.scheduler: Scheduler started
2026-02-23 22:49:12 INFO telegram.ext.Application: Application started
2026-02-23 22:49:42 INFO apscheduler.executors.default: Running job "position_monitor (trigger: interval[0:01:00], next run at: 2026-02-23 20:50:42 UTC)" (scheduled at 2026-02-23 20:49:42.436098+00:00)
2026-02-23 22:49:42 INFO apscheduler.executors.default: Job "position_monitor (trigger: interval[0:01:00], next run at: 2026-02-23 20:50:42 UTC)" executed successfully
2026-02-23 22:50:12 INFO apscheduler.executors.default: Running job "signal_scanner (trigger: interval[0:01:00], next run at: 2026-02-23 20:51:12 UTC)" (scheduled at 2026-02-23 20:50:12.434808+00:00)
2026-02-23 22:50:12 INFO Bot: Forcing initial market scan on startup...
2026-02-23 22:50:12 INFO Bot: Running hourly signal scan at 20:50:12
2026-02-23 22:50:12 INFO scanner: Starting 1H/4H swing scan...
2026-02-23 22:50:14 INFO scanner: Analyzing 29 pairs (4H trend + 1H MACD entry)...
2026-02-23 22:50:15 INFO scanner: 29 pairs pass 4H EMA 200 trend filter.
2026-02-23 22:50:18 INFO scanner: Scan complete. Found 6 signals matching 4H trend + 1H MACD entry.
2026-02-23 22:50:19 INFO apscheduler.executors.default: Job "signal_scanner (trigger: interval[0:01:00], next run at: 2026-02-23 20:51:12 UTC)" executed successfully
2026-02-23 22:50:42 INFO apscheduler.executors.default: Running job "position_monitor (trigger: interval[0:01:00], next run at: 2026-02-23 20:51:42 UTC)" (scheduled at 2026-02-23 20:50:42.436098+00:00)
2026-02-23 22:50:42 INFO apscheduler.executors.default: Job "position_monitor (trigger: interval[0:01:00], next run at: 2026-02-23 20:51:42 UTC)" executed successfully
2026-02-23 22:51:12 INFO apscheduler.executors.default: Running job "signal_scanner (trigger: interval[0:01:00], next run at: 2026-02-23 20:52:12 UTC)" (scheduled at 2026-02-23 20:51:12.434808+00:00)
2026-02-23 22:51:12 INFO apscheduler.executors.default: Job "signal_scanner (trigger: interval[0:01:00], next run at: 2026-02-23 20:52:12 UTC)" executed successfully
2026-02-23 22:51:42 INFO apscheduler.executors.default: Running job "position_monitor (trigger: interval[0:01:00], next run at: 2026-02-23 20:52:42 UTC)" (scheduled at 2026-02-23 20:51:42.436098+00:00)
2026-02-23 22:51:42 INFO apscheduler.executors.default: Job "position_monitor (trigger: interval[0:01:00], next run at: 2026-02-23 20:52:42 UTC)" executed successfully
2026-02-23 22:52:12 INFO apscheduler.executors.default: Running job "signal_scanner (trigger: interval[0:01:00], next run at: 2026-02-23 20:53:12 UTC)" (scheduled at 2026-02-23 20:52:12.434808+00:00)
2026-02-23 22:52:12 INFO apscheduler.executors.default: Job "signal_scanner (trigger: interval[0:01:00], next run at: 2026-02-23 20:53:12 UTC)" executed successfully
2026-02-23 22:52:42 INFO apscheduler.executors.default: Running job "position_monitor (trigger: interval[0:01:00], next run at: 2026-02-23 20:53:42 UTC)" (scheduled at 2026-02-23 20:52:42.436098+00:00)
2026-02-23 22:52:42 INFO apscheduler.executors.default: Job "position_monitor (trigger: interval[0:01:00], next run at: 2026-02-23 20:53:42 UTC)" executed successfully
2026-02-23 22:53:12 INFO apscheduler.executors.default: Running job "signal_scanner (trigger: interval[0:01:00], next run at: 2026-02-23 20:54:12 UTC)" (scheduled at 2026-02-23 20:53:12.434808+00:00)
2026-02-23 22:53:12 INFO apscheduler.executors.default: Job "signal_scanner (trigger: interval[0:01:00], next run at: 2026-02-23 20:54:12 UTC)" executed successfully
2026-02-23 22:53:42 INFO apscheduler.executors.default: Running job "position_monitor (trigger: interval[0:01:00], next run at: 2026-02-23 20:54:42 UTC)" (scheduled at 2026-02-23 20:53:42.436098+00:00)
2026-02-23 22:53:42 INFO apscheduler.executors.default: Job "position_monitor (trigger: interval[0:01:00], next run at: 2026-02-23 20:54:42 UTC)" executed successfully
2026-02-23 22:54:12 INFO apscheduler.executors.default: Running job "signal_scanner (trigger: interval[0:01:00], next run at: 2026-02-23 20:55:12 UTC)" (scheduled at 2026-02-23 20:54:12.434808+00:00)
2026-02-23 22:54:12 INFO apscheduler.executors.default: Job "signal_scanner (trigger: interval[0:01:00], next run at: 2026-02-23 20:55:12 UTC)" executed successfully
2026-02-23 22:54:41 INFO telegram.ext.Application: Application is stopping. This might take a moment.
2026-02-23 22:54:41 INFO apscheduler.scheduler: Scheduler has been shut down
2026-02-23 22:54:41 INFO telegram.ext.Application: Application.stop() complete
2026-02-23 22:54:51 INFO Bot: Starting bot...
2026-02-23 22:54:51 INFO apscheduler.scheduler: Adding job tentatively -- it will be properly scheduled when the scheduler starts
2026-02-23 22:54:51 INFO apscheduler.scheduler: Adding job tentatively -- it will be properly scheduled when the scheduler starts
2026-02-23 22:54:51 INFO Bot: Resumed signal_scanner + position_monitor for chat_id 8194067908
2026-02-23 22:54:51 INFO apscheduler.scheduler: Added job "signal_scanner" to job store "default"
2026-02-23 22:54:51 INFO apscheduler.scheduler: Added job "position_monitor" to job store "default"
2026-02-23 22:54:51 INFO apscheduler.scheduler: Scheduler started
2026-02-23 22:54:51 INFO telegram.ext.Application: Application started
2026-02-23 22:55:21 INFO apscheduler.executors.default: Running job "position_monitor (trigger: interval[0:01:00], next run at: 2026-02-23 20:56:21 UTC)" (scheduled at 2026-02-23 20:55:21.584378+00:00)
2026-02-23 22:55:21 INFO apscheduler.executors.default: Job "position_monitor (trigger: interval[0:01:00], next run at: 2026-02-23 20:56:21 UTC)" executed successfully
2026-02-23 22:55:51 INFO apscheduler.executors.default: Running job "signal_scanner (trigger: interval[0:01:00], next run at: 2026-02-23 20:56:51 UTC)" (scheduled at 2026-02-23 20:55:51.582907+00:00)
2026-02-23 22:55:51 INFO Bot: Forcing initial market scan on startup...
2026-02-23 22:55:51 INFO Bot: Running hourly signal scan at 20:55:51
2026-02-23 22:55:51 ERROR telegram.ext.Application: No error handlers are registered, logging exception.
Traceback (most recent call last):
  File "/home/friday/Projects/borsihai_crypto_trader/venv/lib/python3.12/site-packages/telegram/ext/_jobqueue.py", line 1010, in _run
    await self.callback(context)
  File "/home/friday/Projects/borsihai_crypto_trader/execution/bot.py", line 371, in signal_scanner
    chat_id=chat_id,
            ^^^^^^^
NameError: name 'chat_id' is not defined
2026-02-23 22:55:51 INFO apscheduler.executors.default: Job "signal_scanner (trigger: interval[0:01:00], next run at: 2026-02-23 20:56:51 UTC)" executed successfully
2026-02-23 22:56:21 INFO apscheduler.executors.default: Running job "position_monitor (trigger: interval[0:01:00], next run at: 2026-02-23 20:57:21 UTC)" (scheduled at 2026-02-23 20:56:21.584378+00:00)
2026-02-23 22:56:21 INFO apscheduler.executors.default: Job "position_monitor (trigger: interval[0:01:00], next run at: 2026-02-23 20:57:21 UTC)" executed successfully
2026-02-23 22:56:51 INFO apscheduler.executors.default: Running job "signal_scanner (trigger: interval[0:01:00], next run at: 2026-02-23 20:57:51 UTC)" (scheduled at 2026-02-23 20:56:51.582907+00:00)
2026-02-23 22:56:51 INFO apscheduler.executors.default: Job "signal_scanner (trigger: interval[0:01:00], next run at: 2026-02-23 20:57:51 UTC)" executed successfully
2026-02-23 22:57:07 INFO telegram.ext.Application: Application is stopping. This might take a moment.
2026-02-23 22:57:07 INFO apscheduler.scheduler: Scheduler has been shut down
2026-02-23 22:57:07 INFO telegram.ext.Application: Application.stop() complete
2026-02-23 22:57:11 INFO Bot: Starting bot...
2026-02-23 22:57:11 INFO apscheduler.scheduler: Adding job tentatively -- it will be properly scheduled when the scheduler starts
2026-02-23 22:57:11 INFO apscheduler.scheduler: Adding job tentatively -- it will be properly scheduled when the scheduler starts
2026-02-23 22:57:11 INFO Bot: Resumed signal_scanner + position_monitor for chat_id 8194067908
2026-02-23 22:57:11 INFO apscheduler.scheduler: Added job "signal_scanner" to job store "default"
2026-02-23 22:57:11 INFO apscheduler.scheduler: Added job "position_monitor" to job store "default"
2026-02-23 22:57:11 INFO apscheduler.scheduler: Scheduler started
2026-02-23 22:57:11 INFO telegram.ext.Application: Application started
2026-02-23 22:57:41 INFO apscheduler.executors.default: Running job "position_monitor (trigger: interval[0:01:00], next run at: 2026-02-23 20:58:41 UTC)" (scheduled at 2026-02-23 20:57:41.923675+00:00)
2026-02-23 22:57:41 INFO apscheduler.executors.default: Job "position_monitor (trigger: interval[0:01:00], next run at: 2026-02-23 20:58:41 UTC)" executed successfully
2026-02-23 22:58:11 INFO apscheduler.executors.default: Running job "signal_scanner (trigger: interval[0:01:00], next run at: 2026-02-23 20:59:11 UTC)" (scheduled at 2026-02-23 20:58:11.922126+00:00)
2026-02-23 22:58:11 INFO Bot: Forcing initial market scan on startup...
2026-02-23 22:58:11 INFO Bot: Running hourly signal scan at 20:58:11
2026-02-23 22:58:12 INFO apscheduler.executors.default: Job "signal_scanner (trigger: interval[0:01:00], next run at: 2026-02-23 20:59:11 UTC)" executed successfully
2026-02-23 22:58:41 INFO apscheduler.executors.default: Running job "position_monitor (trigger: interval[0:01:00], next run at: 2026-02-23 20:59:41 UTC)" (scheduled at 2026-02-23 20:58:41.923675+00:00)
2026-02-23 22:58:41 INFO apscheduler.executors.default: Job "position_monitor (trigger: interval[0:01:00], next run at: 2026-02-23 20:59:41 UTC)" executed successfully
2026-02-23 22:59:11 INFO apscheduler.executors.default: Running job "signal_scanner (trigger: interval[0:01:00], next run at: 2026-02-23 21:00:11 UTC)" (scheduled at 2026-02-23 20:59:11.922126+00:00)
2026-02-23 22:59:11 INFO apscheduler.executors.default: Job "signal_scanner (trigger: interval[0:01:00], next run at: 2026-02-23 21:00:11 UTC)" executed successfully
2026-02-23 22:59:41 INFO apscheduler.executors.default: Running job "position_monitor (trigger: interval[0:01:00], next run at: 2026-02-23 21:00:41 UTC)" (scheduled at 2026-02-23 20:59:41.923675+00:00)
2026-02-23 22:59:41 INFO apscheduler.executors.default: Job "position_monitor (trigger: interval[0:01:00], next run at: 2026-02-23 21:00:41 UTC)" executed successfully
2026-02-23 23:00:11 INFO apscheduler.executors.default: Running job "signal_scanner (trigger: interval[0:01:00], next run at: 2026-02-23 21:01:11 UTC)" (scheduled at 2026-02-23 21:00:11.922126+00:00)
2026-02-23 23:00:11 INFO apscheduler.executors.default: Job "signal_scanner (trigger: interval[0:01:00], next run at: 2026-02-23 21:01:11 UTC)" executed successfully
